package core

import (
	"encoding/gob"
	"net"
)

func Encode(conn net.Conn, command *Command) error {
	enc := gob.NewEncoder(conn)
	return enc.Encode(command)
}

func Dencode(conn net.Conn) (*Command, error) {
	var command *Command
	enc := gob.NewDecoder(conn)
	if err := enc.Decode(command); err != nil {
		return nil, err
	}

	return command, nil

}
