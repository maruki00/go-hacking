package core

import (
	"encoding/gob"
	"malware/models"
	"net"
)

func Encode(conn net.Conn, command *models.Request) error {
	enc := gob.NewEncoder(conn)
	return enc.Encode(command)
}

func Dencode(conn net.Conn) (*models.Response, error) {
	var command *models.Response
	enc := gob.NewDecoder(conn)
	if err := enc.Decode(command); err != nil {
		return nil, err
	}

	return command, nil

}
